{% extends 'base.html' %}

{% load custom_filters %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center">Trip Details</h2>

    <div class="card mt-3">
        <div class="card-body">

            <h5 class="card-title text-center mb-3">
                    {{ bus.from_location }}
                    <span class="d-inline-block mx-3" style="border-bottom: 2px solid #007bff; width: 100px;"></span>
                    {{ bus.trip_duration|format_duration }}
                    <span class="d-inline-block mx-3" style="border-bottom: 2px solid #007bff; width: 100px;"></span>
                    {{ bus.to_location }}
            </h5>

            <div class=" justify-content-between mt-3">
                <p class="mb-1"><strong>Departure:</strong> <span class="text-success fw-bold">{{ bus.departure_time|date:"H:i A" }}</span></p>
                <p class="mb-1"><strong>Arrival:</strong> <span class="text-success fw-bold">{{ bus.arrival_time|date:"H:i A" }}</span></p>
            </div>


            <div class="mt-4">
                <p><strong>Price:</strong> {{ bus.price }} $</p>
                <p><strong>Carrier:</strong><a href="{% url 'show_company_details' company_id=bus.company_id %}" class="text-decoration-none text-primary fw-bold"> {{ bus.company }}</a></p>
                <div class="mt-4">
                    <p>
                        <strong>Wi-Fi:</strong>
                        {% if bus.wi_fi_availability == "Yes" %}
                            <span class="text-success" style="font-size: 1.5em;">&#10003;</span>
                        {% else %}
                            <span class="text-danger" style="font-size: 1.5em;">&#10005;</span>
                        {% endif %}
                    </p>
                    <p>
                        <strong>Sockets:</strong>
                        {% if bus.socket_availability == "Yes" %}
                            <span class="text-success" style="font-size: 1.5em;">&#10003;</span>
                        {% else %}
                            <span class="text-danger" style="font-size: 1.5em;">&#10005;</span>
                        {% endif %}
                    </p>
                    <p>
                        <strong>Toilets:</strong>
                        {% if bus.toilets_available == "Yes" %}
                            <span class="text-success" style="font-size: 1.5em;">&#10003;</span>
                        {% else %}
                            <span class="text-danger" style="font-size: 1.5em;">&#10005;</span>
                        {% endif %}
                    </p>
                    <p>
                        <strong>Air Conditioning:</strong>
                        {% if bus.conditioner_available == "Yes" %}
                            <span class="text-success" style="font-size: 1.5em;">&#10003;</span>
                        {% else %}
                            <span class="text-danger" style="font-size: 1.5em;">&#10005;</span>
                        {% endif %}
                    </p>
                </div>
            </div>

            <div class="text-center mt-3">
                <a href="{% url 'booking_form' bus_id=bus.id %}" class="btn btn-success">Book a Ticket</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
